!(function(t, e) {
  "object" == typeof exports && "object" == typeof module
    ? (module.exports = e(require("react"), require("react-dom")))
    : "function" == typeof define && define.amd
    ? define(["React", "ReactDOM"], e)
    : "object" == typeof exports
    ? (exports["react-visibility-sensor"] = e(
        require("react"),
        require("react-dom")
      ))
    : (t["react-visibility-sensor"] = e(t.React, t.ReactDOM));
})(this, function(o, n) {
  return (
    (a = {}),
    (r.m = i = [
      function(t, e, o) {
        t.exports = o(5)();
      },
      function(t, e) {
        t.exports = o;
      },
      function(t, e) {
        t.exports = n;
      },
      function(t, e) {
        t.exports = function(t, e, o) {
          var n = t.direction,
            r = t.value;
          switch (n) {
            case "top":
              return (
                o.top + r < e.top &&
                o.bottom > e.bottom &&
                o.left < e.left &&
                o.right > e.right
              );
            case "left":
              return (
                o.left + r < e.left &&
                o.bottom > e.bottom &&
                o.top < e.top &&
                o.right > e.right
              );
            case "bottom":
              return (
                o.bottom - r > e.bottom &&
                o.left < e.left &&
                o.right > e.right &&
                o.top < e.top
              );
            case "right":
              return (
                o.right - r > e.right &&
                o.left < e.left &&
                o.top < e.top &&
                o.bottom > e.bottom
              );
          }
        };
      },
      function(t, e, o) {
        "use strict";
        o.r(e),
          o.d(e, "default", function() {
            return v;
          });
        var n = o(1),
          i = o.n(n),
          r = o(2),
          a = o.n(r),
          c = o(0),
          l = o.n(c),
          u = o(3),
          f = o.n(u);
        function h(t) {
          return (h =
            "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
              ? function(t) {
                  return typeof t;
                }
              : function(t) {
                  return t &&
                    "function" == typeof Symbol &&
                    t.constructor === Symbol &&
                    t !== Symbol.prototype
                    ? "symbol"
                    : typeof t;
                })(t);
        }
        function s(t, e) {
          for (var o = 0; o < e.length; o++) {
            var n = e[o];
            (n.enumerable = n.enumerable || !1),
              (n.configurable = !0),
              "value" in n && (n.writable = !0),
              Object.defineProperty(t, n.key, n);
          }
        }
        function p(t, e) {
          return (p =
            Object.setPrototypeOf ||
            function(t, e) {
              return (t.__proto__ = e), t;
            })(t, e);
        }
        function b(i) {
          var a = (function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
              return (
                Date.prototype.toString.call(
                  Reflect.construct(Date, [], function() {})
                ),
                !0
              );
            } catch (t) {
              return !1;
            }
          })();
          return function() {
            var t,
              e,
              o,
              n,
              r = y(i);
            return (
              (e = a
                ? ((t = y(this).constructor),
                  Reflect.construct(r, arguments, t))
                : r.apply(this, arguments)),
              (o = this),
              !(n = e) || ("object" !== h(n) && "function" != typeof n)
                ? d(o)
                : n
            );
          };
        }
        function d(t) {
          if (void 0 === t)
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called"
            );
          return t;
        }
        function y(t) {
          return (y = Object.setPrototypeOf
            ? Object.getPrototypeOf
            : function(t) {
                return t.__proto__ || Object.getPrototypeOf(t);
              })(t);
        }
        function m(t, e, o) {
          return (
            e in t
              ? Object.defineProperty(t, e, {
                  value: o,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0
                })
              : (t[e] = o),
            t
          );
        }
        var v = (function() {
          !(function(t, e) {
            if ("function" != typeof e && null !== e)
              throw new TypeError(
                "Super expression must either be null or a function"
              );
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 }
            })),
              e && p(t, e);
          })(r, i.a.Component);
          var t,
            e,
            o,
            n = b(r);
          function r(t) {
            var p;
            return (
              (function(t, e) {
                if (!(t instanceof e))
                  throw new TypeError("Cannot call a class as a function");
              })(this, r),
              m(d((p = n.call(this, t))), "getContainer", function() {
                return p.props.containment || window;
              }),
              m(d(p), "addEventListener", function(t, e, o, n) {
                var r;
                p.debounceCheck || (p.debounceCheck = {});
                function i() {
                  (r = null), p.check();
                }
                var a = {
                  target: t,
                  fn:
                    -1 < n
                      ? function() {
                          r = r || setTimeout(i, n || 0);
                        }
                      : function() {
                          clearTimeout(r), (r = setTimeout(i, o || 0));
                        },
                  getLastTimeout: function() {
                    return r;
                  }
                };
                t.addEventListener(e, a.fn), (p.debounceCheck[e] = a);
              }),
              m(d(p), "startWatching", function() {
                p.debounceCheck ||
                  p.interval ||
                  (p.props.intervalCheck &&
                    (p.interval = setInterval(p.check, p.props.intervalDelay)),
                  p.props.scrollCheck &&
                    p.addEventListener(
                      p.getContainer(),
                      "scroll",
                      p.props.scrollDelay,
                      p.props.scrollThrottle
                    ),
                  p.props.resizeCheck &&
                    p.addEventListener(
                      window,
                      "resize",
                      p.props.resizeDelay,
                      p.props.resizeThrottle
                    ),
                  p.props.delayedCall || p.check());
              }),
              m(d(p), "stopWatching", function() {
                if (p.debounceCheck)
                  for (var t in p.debounceCheck) {
                    var e;
                    p.debounceCheck.hasOwnProperty(t) &&
                      ((e = p.debounceCheck[t]),
                      clearTimeout(e.getLastTimeout()),
                      e.target.removeEventListener(t, e.fn),
                      (p.debounceCheck[t] = null));
                  }
                (p.debounceCheck = null),
                  p.interval && (p.interval = clearInterval(p.interval));
              }),
              m(d(p), "check", function() {
                var t,
                  e,
                  o,
                  n,
                  r = p.node;
                if (!r) return p.state;
                void 0 ===
                  (e = p.roundRectDown(r.getBoundingClientRect())).width &&
                  (e.width = e.right - e.left),
                  void 0 === e.height && (e.height = e.bottom - e.top),
                  (t = e),
                  (n = p.props.containment
                    ? {
                        top: (o = p.props.containment.getBoundingClientRect())
                          .top,
                        left: o.left,
                        bottom: o.bottom,
                        right: o.right
                      }
                    : {
                        top: 0,
                        left: 0,
                        bottom:
                          window.innerHeight ||
                          document.documentElement.clientHeight,
                        right:
                          window.innerWidth ||
                          document.documentElement.clientWidth
                      });
                var i = p.props.offset || {};
                "object" === h(i) &&
                  ((n.top += i.top || 0),
                  (n.left += i.left || 0),
                  (n.bottom -= i.bottom || 0),
                  (n.right -= i.right || 0));
                var a,
                  c = {
                    top: t.top >= n.top,
                    left: t.left >= n.left,
                    bottom: t.bottom <= n.bottom,
                    right: t.right <= n.right
                  },
                  l = 0 < t.height && 0 < t.width,
                  u = l && c.top && c.left && c.bottom && c.right;
                l &&
                  p.props.partialVisibility &&
                  ((a =
                    t.top <= n.bottom &&
                    t.bottom >= n.top &&
                    t.left <= n.right &&
                    t.right >= n.left),
                  "string" == typeof p.props.partialVisibility &&
                    (a = c[p.props.partialVisibility]),
                  (u = p.props.minTopValue
                    ? a && t.top <= n.bottom - p.props.minTopValue
                    : a)),
                  "string" == typeof i.direction &&
                    "number" == typeof i.value &&
                    (console.warn(
                      "[notice] offset.direction and offset.value have been deprecated. They still work for now, but will be removed in next major version. Please upgrade to the new syntax: { %s: %d }",
                      i.direction,
                      i.value
                    ),
                    (u = f()(i, t, n)));
                var s = p.state;
                return (
                  p.state.isVisible !== u &&
                    ((s = { isVisible: u, visibilityRect: c }),
                    p.setState(s),
                    p.props.onChange && p.props.onChange(u)),
                  p.props.once && p.state.isVisible && p.stopWatching(),
                  s
                );
              }),
              (p.state = { isVisible: null, visibilityRect: {} }),
              p
            );
          }
          return (
            (t = r),
            (e = [
              {
                key: "componentDidMount",
                value: function() {
                  (this.node = a.a.findDOMNode(this)),
                    this.props.active && this.startWatching();
                }
              },
              {
                key: "componentWillUnmount",
                value: function() {
                  this.stopWatching();
                }
              },
              {
                key: "componentDidUpdate",
                value: function(t) {
                  (this.node = a.a.findDOMNode(this)),
                    this.props.active && !t.active
                      ? (this.setState({ isVisible: null, visibilityRect: {} }),
                        this.startWatching())
                      : this.props.active || this.stopWatching();
                }
              },
              {
                key: "roundRectDown",
                value: function(t) {
                  return {
                    top: Math.floor(t.top),
                    left: Math.floor(t.left),
                    bottom: Math.floor(t.bottom),
                    right: Math.floor(t.right)
                  };
                }
              },
              {
                key: "render",
                value: function() {
                  return this.props.children instanceof Function
                    ? this.props.children({
                        isVisible: this.state.isVisible,
                        visibilityRect: this.state.visibilityRect
                      })
                    : i.a.Children.only(this.props.children);
                }
              }
            ]) && s(t.prototype, e),
            o && s(t, o),
            r
          );
        })();
        m(v, "defaultProps", {
          active: !0,
          partialVisibility: !1,
          minTopValue: 0,
          scrollCheck: !1,
          scrollDelay: 250,
          scrollThrottle: -1,
          resizeCheck: !1,
          resizeDelay: 250,
          resizeThrottle: -1,
          intervalCheck: !0,
          intervalDelay: 100,
          delayedCall: !1,
          offset: {},
          once: !1,
          containment: null,
          children: i.a.createElement("span", null)
        }),
          m(v, "propTypes", {
            onChange: l.a.func,
            active: l.a.bool,
            partialVisibility: l.a.oneOfType([
              l.a.bool,
              l.a.oneOf(["top", "right", "bottom", "left"])
            ]),
            delayedCall: l.a.bool,
            offset: l.a.oneOfType([
              l.a.shape({
                top: l.a.number,
                left: l.a.number,
                bottom: l.a.number,
                right: l.a.number
              }),
              l.a.shape({
                direction: l.a.oneOf(["top", "right", "bottom", "left"]),
                value: l.a.number
              })
            ]),
            once: l.a.bool,
            scrollCheck: l.a.bool,
            scrollDelay: l.a.number,
            scrollThrottle: l.a.number,
            resizeCheck: l.a.bool,
            resizeDelay: l.a.number,
            resizeThrottle: l.a.number,
            intervalCheck: l.a.bool,
            intervalDelay: l.a.number,
            containment:
              "undefined" != typeof window
                ? l.a.instanceOf(window.Element)
                : l.a.any,
            children: l.a.oneOfType([l.a.element, l.a.func]),
            minTopValue: l.a.number
          });
      },
      function(t, e, o) {
        "use strict";
        var c = o(6);
        function n() {}
        function r() {}
        (r.resetWarningCache = n),
          (t.exports = function() {
            function t(t, e, o, n, r, i) {
              if (i !== c) {
                var a = new Error(
                  "Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
                );
                throw ((a.name = "Invariant Violation"), a);
              }
            }
            function e() {
              return t;
            }
            var o = {
              array: (t.isRequired = t),
              bool: t,
              func: t,
              number: t,
              object: t,
              string: t,
              symbol: t,
              any: t,
              arrayOf: e,
              element: t,
              elementType: t,
              instanceOf: e,
              node: t,
              objectOf: e,
              oneOf: e,
              oneOfType: e,
              shape: e,
              exact: e,
              checkPropTypes: r,
              resetWarningCache: n
            };
            return (o.PropTypes = o);
          });
      },
      function(t, e, o) {
        "use strict";
        t.exports = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
      }
    ]),
    (r.c = a),
    (r.d = function(t, e, o) {
      r.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: o });
    }),
    (r.r = function(t) {
      "undefined" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }),
        Object.defineProperty(t, "__esModule", { value: !0 });
    }),
    (r.t = function(e, t) {
      if ((1 & t && (e = r(e)), 8 & t)) return e;
      if (4 & t && "object" == typeof e && e && e.__esModule) return e;
      var o = Object.create(null);
      if (
        (r.r(o),
        Object.defineProperty(o, "default", { enumerable: !0, value: e }),
        2 & t && "string" != typeof e)
      )
        for (var n in e)
          r.d(
            o,
            n,
            function(t) {
              return e[t];
            }.bind(null, n)
          );
      return o;
    }),
    (r.n = function(t) {
      var e =
        t && t.__esModule
          ? function() {
              return t.default;
            }
          : function() {
              return t;
            };
      return r.d(e, "a", e), e;
    }),
    (r.o = function(t, e) {
      return Object.prototype.hasOwnProperty.call(t, e);
    }),
    (r.p = ""),
    r((r.s = 4))
  );
  function r(t) {
    if (a[t]) return a[t].exports;
    var e = (a[t] = { i: t, l: !1, exports: {} });
    return i[t].call(e.exports, e, e.exports, r), (e.l = !0), e.exports;
  }
  var i, a;
});
